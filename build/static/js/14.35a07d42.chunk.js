(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{YMUj:function(e,t,a){"use strict";a.r(t);a("sPJy");var r=a("bE4q"),n=(a("lUTK"),a("BvKs")),o=(a("+L6B"),a("2/Rp")),i=(a("5NDa"),a("5rEg")),l=(a("y8nQ"),a("Vl3Y")),c=a("qIgq"),s=a.n(c),m=(a("B9cy"),a("Ol7k")),d=a("q1tI"),u=a.n(d),p=a("/MKj"),f=a("Ty5D"),h=a("X/SJ"),g=a("5ahD"),v=(a("IzEo"),a("bx4M")),b=(a("14J3"),a("BMrR")),y=(a("giR+"),a("fyUT")),E=(a("jCWc"),a("kPKH")),O=(a("8dk+"),a("eZ87")),j=(a("7Kak"),a("9yH6")),x=a("1l/V"),_=a.n(x),S=(a("OaEy"),a("2fM7")),M=a("LLXN"),w=a("Kvkj"),k=a("YuA9"),N=a("BD01"),T=a.n(N),L=a("V6UL"),C=a("ygAv"),P=a("z6lB"),D=(a("RWK8"),a("7/+/")),I=a("vDqi"),F=a.n(I);function R(){R=function(){return t};var e,t={},a=Object.prototype,r=a.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function m(e,t,a,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new T(r||[]);return n(i,"_invoke",{value:M(e,a,l)}),i}function d(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var u="suspendedStart",p="suspendedYield",f="executing",h="completed",g={};function v(){}function b(){}function y(){}var E={};s(E,i,function(){return this});var O=Object.getPrototypeOf,j=O&&O(O(L([])));j&&j!==a&&r.call(j,i)&&(E=j);var x=y.prototype=v.prototype=Object.create(E);function _(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){function a(n,o,i,l){var c=d(e[n],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,i,l)},function(e){a("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,l)})}l(c.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t(function(t,n){a(e,r,t,n)})}return o=o?o.then(n,n):n()}})}function M(t,a,r){var n=u;return function(o,i){if(n===f)throw Error("Generator is already running");if(n===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=w(l,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===u)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var s=d(t,a,r);if("normal"===s.type){if(n=r.done?h:p,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=h,r.method="throw",r.arg=s.arg)}}}function w(t,a){var r=a.method,n=t.iterator[r];if(n===e)return a.delegate=null,"throw"===r&&t.iterator.return&&(a.method="return",a.arg=e,w(t,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(n,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function a(){for(;++n<t.length;)if(r.call(t,n))return a.value=t[n],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=y,n(x,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:b,configurable:!0}),b.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},_(S.prototype),s(S.prototype,l,function(){return this}),t.AsyncIterator=S,t.async=function(e,a,r,n,o){void 0===o&&(o=Promise);var i=new S(m(e,a,r,n),o);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(x),s(x,c,"Generator"),s(x,i,function(){return this}),s(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(r,n){return l.type="throw",l.arg=t,a.next=r,n&&(a.method="next",a.arg=e),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,a,r){return this.delegate={iterator:L(t),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}var A=S["a"].Option,z=[{name:"".concat(Object(M["formatMessage"])({id:"extra.trainUnion"})),count:80,color:"rgba(49, 154, 228, 1)"},{name:"".concat(Object(M["formatMessage"])({id:"extra.verifyUnion"})),count:10,color:"rgba(6, 194, 97, 1)"},{name:"".concat(Object(M["formatMessage"])({id:"extra.testUnion"})),count:10,color:"rgba(225, 67, 68, 1)"}],U=e=>{var t=e.train.labelName,a=e.dispatch,r=e.location.query.datasetName,n=["KNN","MLP","RF","LR","DTR"],c=["mcts","moea","nsgaii","rnsgaii"],m=Object(d["useRef"])(),p=Object(d["useState"])("train_validation_holdout"),f=s()(p,2),h=f[0],g=f[1],x=Object(d["useState"])(null),N=s()(x,2),I=N[0],U=N[1],q=Object(d["useState"])(null),V=s()(q,2),K=V[0],B=V[1],W=Object(d["useState"])(""),H=s()(W,2),Y=H[0],G=H[1],J=Object(d["useState"])(n[0]),Z=s()(J,2),X=Z[0],Q=Z[1],$=Object(d["useState"])(c[0]),ee=s()($,2),te=ee[0],ae=ee[1],re=Object(d["useState"])(t),ne=s()(re,2),oe=ne[0],ie=ne[1],le=Object(d["useState"])(""),ce=s()(le,2),se=ce[0],me=ce[1],de=Object(d["useState"])(""),ue=s()(de,2),pe=ue[0],fe=ue[1],he=Object(d["useState"])("quick"),ge=s()(he,2),ve=ge[0],be=ge[1],ye=Object(d["useState"])(5),Ee=s()(ye,2),Oe=Ee[0],je=Ee[1],xe=Object(d["useState"])(20),_e=s()(xe,2),Se=_e[0],Me=_e[1],we=Object(d["useState"])(9527),ke=s()(we,2),Ne=ke[0],Te=ke[1],Le=Object(d["useState"])(""),Ce=s()(Le,2),Pe=Ce[0],De=Ce[1],Ie=Object(d["useState"])(null),Fe=s()(Ie,2),Re=Fe[0],Ae=Fe[1],ze=Object(d["useState"])(!1),Ue=s()(ze,2),qe=Ue[0],Ve=Ue[1],Ke=Object(d["useState"])(!1),Be=s()(Ke,2),We=Be[0],He=Be[1],Ye=Object(d["useState"])(z),Ge=s()(Ye,2),Je=Ge[0],Ze=Ge[1],Xe=Object(d["useState"])([]),Qe=s()(Xe,2),$e=Qe[0],et=Qe[1],tt=Object(d["useState"])([]),at=s()(tt,2),rt=at[0],nt=at[1],ot=(null===$e||void 0===$e?void 0:$e.filter(e=>"continuous"===e.type||"categorical"===e.type))||[],it=(null===$e||void 0===$e?void 0:$e.filter(e=>"datetime"===e.type))||[],lt=(null===$e||void 0===$e?void 0:$e.filter(e=>{if(e.type===D["FeatureType"].Categorical&&3===e.extension.value_count.length){var t=e.extension.value_count.map(e=>e.type);if(t.indexOf(D["PartitionClass"].Train)>-1&&t.indexOf(D["PartitionClass"].Eval)>-1&&t.indexOf(D["PartitionClass"].Test)>-1)return!0}return!1}))||[],ct=lt.length>0,st=it.length>0,mt=l["a"].useForm(),dt=s()(mt,1),ut=dt[0];Object(d["useEffect"])(()=>{pt()},[]);var pt=function(){var e=_()(R().mark(function e(t){var a;return R().wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("/api/model/param",{params:{model_id:t}});case 3:a=e.sent,nt(a.data.data.params),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();console.log("cqm,",rt),Object(d["useEffect"])(()=>{Object(L["g"])(r).then(e=>{if(0===e.code){var t=e.data.features;t.length<=0?Object(P["a"])("Features of  "+r+" is empty"):(t.forEach((e,t)=>{if(e.key=t,"continuous"===e.type)e.hData=[],e.extension.bins.map(t=>{e.hData.push({value:[t.begin,t.end],count:t.value})});else if("datetime"===e.type){var a=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"];e.barHourData=[];var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.barMonthData=[];var n=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];e.barWeekData=[],e.barYearData=[],e.extension.by_hour.forEach((t,r)=>{e.barHourData.push({time:a[r],value:t})}),e.extension.by_month.forEach((t,a)=>{e.barMonthData.push({time:r[a],value:t})}),e.extension.by_week.forEach((t,a)=>{e.barWeekData.push({time:n[a],value:t})}),e.extension.by_year.forEach((t,a)=>{e.barYearData.push({time:String(t["year"]),value:t["value"]})})}}),et(t),Object(L["k"])(r,oe).then(e=>{if(0===e.code){var a=e.data;if(ie(a.conf.label_col),me(a.conf.pos_label),be(a.conf.train_mode),g(a.conf.partition_strategy),a.conf.partition_strategy===D["PartitionStrategy"].Manual)Ae(a.conf.partition_col);else if(a.conf.partition_strategy===D["PartitionStrategy"].TrainValidationHoldout){z[0].count=a.conf.train_validation_holdout.train_percentage,z[1].count=a.conf.train_validation_holdout.validation_percentage,z[2].count=a.conf.train_validation_holdout.holdout_percentage,Ze(z);var n=a.conf.train_validation_holdout.random_state;void 0!==n&&null!==n&&Te(a.conf.train_validation_holdout.random_state)}t.forEach(e=>{e.name===a.conf.label_col&&(B(e.extension.value_count),"continuous"===e.type?U(e.hData):"categorical"===e.type&&U(e.extension.value_count),G(e.type))}),Object(L["p"])(r,a.conf.label_col).then(e=>{var t=e.data;fe(t.task_type)})}else Object(P["a"])("Response is: "+JSON.stringify(e))}))}else Object(P["a"])("Response is: "+JSON.stringify(e))})},[r,oe,t]);var ft=e=>{Ve(!1),ie(e)},ht=e=>{Ae(e)},gt=e=>{isNaN(e)||je(e)},vt=e=>{isNaN(e)||Me(e)},bt=u.a.createElement(u.a.Fragment,null,u.a.createElement(j["a"].Group,{onChange:e=>g(e.target.value),value:h,style:{marginTop:12}},u.a.createElement(j["a"],{value:D["PartitionStrategy"].TrainValidationHoldout},Object(M["formatMessage"])({id:"extra.testAndTrain"})))),yt=()=>{return h===D["PartitionStrategy"].CrossValidation?u.a.createElement(u.a.Fragment,null,u.a.createElement("dl",null,u.a.createElement("dt",null,Object(M["formatMessage"])({id:"train.divisionNum"}))),u.a.createElement(b["a"],null,u.a.createElement(E["a"],{span:12},u.a.createElement(O["a"],{min:2,max:50,onChange:gt,value:"number"===typeof Oe?Oe:0,step:1,tooltipVisible:!1})),u.a.createElement(E["a"],{span:4},u.a.createElement(y["a"],{min:2,max:50,style:{margin:"0 16px"},step:1,value:Oe,onChange:gt}))),u.a.createElement("dl",null,u.a.createElement("dt",null,Object(M["formatMessage"])({id:"train.testUnionPercentage"}))),u.a.createElement(b["a"],null,u.a.createElement(E["a"],{span:12},u.a.createElement(O["a"],{min:10,max:80,onChange:vt,value:"number"===typeof Se?Se:0,step:1,tooltipVisible:!1})),u.a.createElement(E["a"],{span:4},u.a.createElement(y["a"],{min:10,max:80,style:{margin:"0 16px"},step:1,value:Se,formatter:e=>"".concat(e,"%"),onChange:vt}))),u.a.createElement(b["a"],null,u.a.createElement(E["a"],{span:18},u.a.createElement("div",{className:T.a.barWrapper},u.a.createElement("div",{className:T.a.cvdata,style:{width:"".concat(100-Se,"%"),overflow:"hidden"}},Array.apply(null,{length:Oe}).map((e,t)=>{return u.a.createElement("span",{style:{flex:1,backgroundColor:"#0090DC",borderRight:"1px solid #fff"}})})),u.a.createElement("div",{className:T.a.testdata,style:{flex:1,width:"".concat(Se,"%"),backgroundColor:"#E73B40"}})),u.a.createElement("div",{className:T.a.legend},u.a.createElement("div",{className:T.a.number},u.a.createElement("span",{className:T.a.cvdataCir}),u.a.createElement("span",{className:T.a.symbol},Object(M["formatMessage"])({id:"train.cvdata"}))),u.a.createElement("div",{className:T.a.type},u.a.createElement("span",{className:T.a.testCir}),u.a.createElement("span",{className:T.a.symbol},Object(M["formatMessage"])({id:"train.testUnion"}))))))):h===D["PartitionStrategy"].Manual?u.a.createElement(S["a"],{placeholder:xt(),style:{width:300},disabled:!ct,onChange:ht,value:Re},lt.map((e,t)=>{return u.a.createElement(A,{value:e.name,key:t},e.name)})):u.a.createElement("div",null,u.a.createElement("dl",null,u.a.createElement("dt",null,Object(M["formatMessage"])({id:"train.random_split.seed"}))),u.a.createElement(b["a"],null,u.a.createElement(y["a"],{onChange:e=>Te(e),min:0,max:65535,value:Ne,style:{width:300}})),u.a.createElement("dl",null,u.a.createElement("dt",null,Object(M["formatMessage"])({id:"train.random_split.proportion"}))),u.a.createElement(b["a"],{style:{width:"90%"}},u.a.createElement(w["b"],{dataRef:m,sliderData:Je})))},Et=e=>{He(!1),me(e)},Ot=()=>{var e={label_col:oe,pos_label:se,train_mode:ve,experiment_engine:"HyperGBM",datetime_series_col:Pe};if(e["partition_strategy"]=h,h===D["PartitionStrategy"].CrossValidation)e["cross_validation"]={n_folds:Se};else if(h===D["PartitionStrategy"].TrainValidationHoldout){var t=m.current.getData();e["train_validation_holdout"]={train_percentage:t[0].count,validation_percentage:t[1].count,holdout_percentage:t[2].count,random_state:Ne}}else{if(h!==D["PartitionStrategy"].Manual)return void Object(P["a"])("Unseen partition strategy: "+h);e["partition_col"]=Re}var n={datasetName:r,param:e};n["param"].hasOwnProperty("label_col")&&void 0===n["param"]["label_col"]?Ve(!0):n["param"].hasOwnProperty("pos_label")&&""===n["param"]["pos_label"]?He(!0):a({type:"train/train",payload:n})},jt=()=>{return st?Object(M["formatMessage"])({id:"train.datetimeColSelectorNoItem"}):Object(M["formatMessage"])({id:"train.select"})},xt=()=>{return ct?Object(M["formatMessage"])({id:"train.partition.noPartitionCols"}):Object(M["formatMessage"])({id:"train.select"})},_t={multi_classification:"train.taskMultiClassification",binary_classification:"train.taskBinaryClassification",regression:"train.taskRegression"},St=_t[pe],Mt=e=>{return u.a.createElement("span",{style:{color:"#c4c4c4",marginLeft:2}},e)};return u.a.createElement(l["a"],{form:ut,style:{backgroundColor:"#FAFAFA",maxWidth:"900px"}},u.a.createElement("dl",{style:{marginLeft:"30px",paddingTop:"20px"}},u.a.createElement("dt",{style:{color:"#113D95",fontSize:"18px"}},u.a.createElement("span",null,Object(M["formatMessage"])({id:"train.tagCol"})))),u.a.createElement("div",{style:{marginLeft:"30px",paddingTop:"0px"}},Mt(Object(M["formatMessage"])({id:"train.hintTarget"}))),u.a.createElement("dl",null,u.a.createElement("dd",null,u.a.createElement("span",null,u.a.createElement(S["a"],{value:oe,placeholder:Object(M["formatMessage"])({id:"train.select"}),style:{width:300,marginBottom:20,marginLeft:"30px"},onChange:ft},ot&&ot.map(e=>{return u.a.createElement(A,{value:e.name},e.name)}))),u.a.createElement(o["a"],{type:"primary",style:{marginLeft:10},onClick:Ot},Object(M["formatMessage"])({id:"train.train"}))),qe?u.a.createElement("div",{className:T.a.labelTip,style:{marginTop:-20}},Object(M["formatMessage"])({id:"train.labelNotEmpty"})):null),u.a.createElement("dl",{style:{marginLeft:"30px",paddingTop:"0px"}},0!==pe.length&&u.a.createElement(u.a.Fragment,null,u.a.createElement("dt",{style:{color:"#113D95",fontSize:"18px"}},Object(M["formatMessage"])({id:"train.taskType"}),Object(C["f"])("train.hintTaskType")),u.a.createElement("dd",null,u.a.createElement("span",{style:{color:"#c4c4c4",marginLeft:2}},"  ",Object(M["formatMessage"])({id:"train.hintInferTaskType"},{taskType:Object(M["formatMessage"])({id:St})}),"   ")))),u.a.createElement("dl",{style:{marginLeft:"30px",paddingTop:"10px"}},u.a.createElement(k["a"],{labelType:Y,labelData:I,style:{width:350}})),"binary_classification"===pe&&u.a.createElement("dl",{className:T.a.binary,style:{marginLeft:"30px",paddingTop:"10px"}},u.a.createElement("dt",{style:{color:"#113D95",fontSize:"18px"}},Object(M["formatMessage"])({id:"train.normalSampleModal"}),Object(C["f"])("train.hintPositiveLabel")),u.a.createElement("dd",null,u.a.createElement(S["a"],{value:se,placeholder:Object(M["formatMessage"])({id:"train.select"}),style:{width:300},onChange:Et},K&&K.map((e,t)=>{return u.a.createElement(A,{value:e.type,key:t},e.type)}))),We?u.a.createElement("div",{className:T.a.labelTip},Object(M["formatMessage"])({id:"train.posNotEmpty"})):null),u.a.createElement("div",{className:T.a.container,style:{marginLeft:"30px",paddingTop:"10px"}},u.a.createElement("div",{className:T.a.modeWrapper},u.a.createElement("dl",{className:T.a.mode},u.a.createElement("dt",{style:{color:"#113D95",fontSize:"18px"}},Object(M["formatMessage"])({id:"train.experimentEngine"}),Object(C["f"])("train.hintExperimentEngine")),u.a.createElement("dd",null,u.a.createElement(S["a"],{value:X,placeholder:Object(M["formatMessage"])({id:"train.select"}),style:{width:300},onChange:e=>{var t={KNN:"1",MLP:"2",DTR:"3",RF:"4",LR:"5"};Q(e),console.log(t[e]),pt(t[e])}},n.map(e=>{return u.a.createElement(A,{value:e,key:e},e)}))))),u.a.createElement("div",{className:T.a.modeWrapper},u.a.createElement("dl",{className:T.a.mode},u.a.createElement("dt",{style:{color:"#113D95",fontSize:"18px"}},Object(M["formatMessage"])({id:"train.distributedPolicies"}),Object(C["f"])("train.hintDistributedPolicies")),u.a.createElement("dd",null,u.a.createElement(S["a"],{value:te,placeholder:Object(M["formatMessage"])({id:"train.select"}),style:{width:300},onChange:e=>{ae(e)}},c.map(e=>{return u.a.createElement(A,{value:e,key:e},e)}))))),u.a.createElement("div",{className:T.a.modeWrapper},u.a.createElement("dl",{className:T.a.mode,style:{color:"#113D95",fontSize:"18px"}},u.a.createElement("dt",null,"\u5efa\u6a21\u76ee\u6807",Object(C["f"])("train.hintTrainMode")),u.a.createElement("dd",null,u.a.createElement(j["a"].Group,{onChange:e=>be(e.target.value),value:ve},u.a.createElement(j["a"],{value:"quick"},"\u6027\u80fd\u6709\u9650"),u.a.createElement(j["a"],{value:"performance"},"\u901f\u5ea6\u6709\u9650")))))),rt.length>0?rt.map((e,t)=>u.a.createElement("div",{style:{width:"1000px",marginLeft:"30px"}}," ",u.a.createElement(b["a"],{key:t,gutter:16},u.a.createElement(E["a"],{span:12},u.a.createElement(l["a"].Item,{name:"param_".concat(e.id),label:e.param_name,rules:[{required:!1,message:"Please enter ".concat(e.param_name)}]},u.a.createElement("div",{style:{display:"flex",alignItems:"center"}},u.a.createElement(i["a"],{style:{width:"100%"},placeholder:"Please enter ".concat(e.param_name)}),u.a.createElement("div",{className:T.a["item-hints"],style:{position:"relative"}},u.a.createElement("div",{className:T.a.hint,"data-position":"4"},u.a.createElement("span",{className:T.a["hint-radius"]}),u.a.createElement("span",{className:T.a["hint-dot"]},"Tip"),u.a.createElement("div",{className:"".concat(T.a["hint-content"]," ").concat(T.a["do--split-children"])},u.a.createElement("p",null,e.param_notice)))))))))):null,u.a.createElement("dl",{style:{marginLeft:"30px",paddingTop:"10px"}},u.a.createElement("dt",{style:{color:"#113D95",fontSize:"18px"}},Object(M["formatMessage"])({id:"train.dataAllot"}),Object(C["f"])("train.partition.hint"))),u.a.createElement(v["a"],{title:bt,style:{width:"80%",marginLeft:"30px",paddingTop:"10px"}},u.a.createElement("div",null,yt())),u.a.createElement("dl",{style:{marginLeft:"30px",paddingTop:"10px"}},u.a.createElement("dt",{style:{color:"#113D95",fontSize:"18px"}},Object(M["formatMessage"])({id:"train.datetimeCol"}),Object(C["f"])("train.hintDatetimeSeriesFeature")),u.a.createElement("dd",null,u.a.createElement(S["a"],{placeholder:jt(),style:{width:300},disabled:!st,onChange:De},it.map((e,t)=>{return u.a.createElement(A,{value:e.name,key:t},e.name)})))))},q=Object(f["o"])(Object(p["c"])(e=>{var t=e.dataset,a=e.train;return{dataset:t,train:a}})(U)),V=(a("g9YV"),a("wCAj")),K=(a("qVdP"),a("jsC+")),B=(a("5Dmo"),a("3S7+")),W=(a("T2oS"),a("W9HT")),H=(a("Znn+"),a("ZTPi")),Y=a("ye1Q"),G=a("bRQS"),J=a("4i/N"),Z=(a("Mwp2"),a("VXEj")),X=a("EK1h"),Q=a.n(X),$=a("p0pE"),ee=a.n($),te=(a("R9oj"),a("ECub")),ae=a("Y/ft"),re=a.n(ae),ne=a("MT78"),oe=a.n(ne),ie=(a("XOKv"),a("iLNv")),le=a("zHMj"),ce=a("bYtY"),se=(e,t)=>{var a={};return t.forEach(t=>{a[t]=e[t]}),a};class me extends d["Component"]{constructor(e){super(e),this.getEchartsInstance=(()=>this.echartsLib.getInstanceByDom(this.echartsElement)||this.echartsLib.init(this.echartsElement,this.props.theme,this.props.opts)),this.renderEchartDom=(()=>{var e=this.getEchartsInstance();return e.setOption(this.props.option,this.props.notMerge||!1,this.props.lazyUpdate||!1),window.addEventListener("resize",()=>{e&&e.resize()}),this.props.showLoading?e.showLoading(this.props.loadingOption||null):e.hideLoading(),e}),this.dispose=(()=>{if(this.echartsElement){try{Object(ie["clear"])(this.echartsElement)}catch(e){console.warn(e)}this.echartsLib.dispose(this.echartsElement)}}),this.rerender=(()=>{var e=this.props,t=e.onEvents,a=e.onChartReady,r=this.renderEchartDom();this.bindEvents(r,t||{}),"function"===typeof a&&this.props.onChartReady(r),this.echartsElement&&Object(ce["bind"])(this.echartsElement,()=>{try{r&&r.resize()}catch(e){console.warn(e)}})}),this.bindEvents=((e,t)=>{var a=(t,a)=>{"string"===typeof t&&"function"===typeof a&&e.on(t,t=>{a(t,e)})};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a(r,t[r])}),this.echartsLib=oe.a,this.echartsElement=null}componentDidMount(){this.renderEchartDom()}componentDidUpdate(e){if(!Object(le["a"])(e.theme,this.props.theme)||!Object(le["a"])(e.opts,this.props.opts)||!Object(le["a"])(e.onEvents,this.props.onEvents))return this.dispose(),void this.rerender();var t=["option","notMerge","lazyUpdate","showLoading","loadingOption"];if(Object(le["a"])(se(this.props,t),se(e,t))&&("function"!==typeof this.props.shouldSetOption||this.props.shouldSetOption(e,this.props))){var a=this.renderEchartDom();if(!Object(le["a"])(e.style,this.props.style)||!Object(le["a"])(e.className,this.props.className))try{a&&a.resize()}catch(e){console.warn(e)}}}componentWillUnmount(){this.dispose()}render(){var e=this.props,t=e.style,a=e.className,r=ee()({height:300},t);return u.a.createElement("div",{ref:e=>{this.echartsElement=e},style:r,className:a})}}me.defaultProps={style:{},className:"",notMerge:!1,lazyUpdate:!1,showLoading:!1,loadingOption:null,theme:null,onChartReady:()=>{},onEvents:{},opts:{},shouldSetOption:()=>!0};var de=me;function ue(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=pe(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function pe(e,t){if(e){if("string"===typeof e)return fe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}class he extends d["PureComponent"]{constructor(){super(...arguments),this.getOption=((e,t)=>{return{parallelAxis:[],series:[{type:"parallel",lineStyle:{width:2},data:[]}],visualMap:{min:e,max:t,left:0,precision:4,calculable:!0,orient:"vertical",bottom:"15%",hoverLink:!0}}})}render(){var e=this.props,t=(e.style,e.className,e.data);e.xAxisProp,e.seriesData,e.loading,re()(e,["style","className","data","xAxisProp","seriesData","loading"]);if(!t||!t.hasOwnProperty("data"))return u.a.createElement(te["a"],null);var a,r=[],n=ue(t.data);try{for(n.s();!(a=n.n()).done;){var o=a.value;r.push(o.reward)}}catch(e){n.e(e)}finally{n.f()}var i=this.getOption(Math.min(...r),Math.max(...r));return t.param_names.forEach((e,t)=>{i.parallelAxis.push({dim:t,name:e})}),t.data.forEach((e,a)=>{i["series"]["data"]=new Array(t.param_names.length),i["series"][0]["data"][a]=e.params}),u.a.createElement(de,{option:ee()({},i)})}}var ge,ve=he,be=e=>{var t=e.modelName,a=e.location.query.datasetName,r=Object(d["useState"])({}),n=s()(r,2),o=n[0],i=n[1],l=Object(d["useState"])(!0),c=s()(l,2),m=c[0],p=c[1];return Object(d["useEffect"])(()=>{var e={datasetName:a,modelName:t};Object(L["i"])(e).then(e=>{var t=e.data;if(t.trials){p(!1);var a=t.trials;a.param_names.push("Reward metric"),a.data.forEach(e=>{e.params.push(e.reward)}),i(a)}})},[a,t]),u.a.createElement("div",null,m?u.a.createElement("div",{style:{textAlign:"center",color:"#c4c4c4"}},Object(M["formatMessage"])({id:"center.training"})):u.a.createElement(ve,{data:o}))},ye=(Object(f["o"])(be),[{value:"explained_variance",name:"EVS"},{value:"neg_mean_absolute_error",name:"MAE"},{value:"neg_mean_squared_error",name:"MSE"},{value:"neg_mean_squared_log_error",name:"MSLE"},{value:"neg_median_absolute_error",name:"MedianAE"},{value:"r2",name:"R2"},{value:"accuracy",name:"Accuracy"},{value:"f1",name:"F1"},{value:"precision",name:"Precision"},{value:"recall",name:"Recall"},{value:"roc_auc",name:"AUC"},{value:"fbeta",name:"FBeta"},{value:"log_loss",name:"Log Loss"},{value:"rmse",name:"RMSE"},{value:"mse",name:"MSE"},{value:"mae",name:"MAE"},{value:"evs",name:"EVS"},{value:"msle",name:"MSLE"}]),Ee=e=>{var t=e.modelName,a=e.location.query.datasetName,r=e.key,n=Object(d["useState"])({}),o=s()(n,2),i=o[0],l=o[1],c=Object(d["useState"])({}),m=s()(c,2),p=m[0],f=m[1],h=Object(d["useState"])({}),g=s()(h,2),v=g[0],y=g[1],O=Object(d["useState"])(""),j=s()(O,2),x=j[0],_=j[1],S=Object(d["useState"])(!0),k=s()(S,2),N=k[0],T=k[1];Object(d["useEffect"])(()=>{var e={datasetName:a,modelName:t};Object(L["i"])(e).then(e=>{var t=e.data;console.log("cx3",t.performance),t.performance&&(T(!1),l(t.performance.confusion_matrix),f(t.performance.metrics),y(t.performance.roc_curve),_(t.task_type))})},[a,t]);var P=[];if(v){var D=v.false_positive_rate,I=void 0===D?[]:D,F=v.true_positive_rate,R=void 0===F?[]:F,A=v.thresholds,z=void 0===A?[]:A;I.forEach(e=>{P.push({x:e})}),R.forEach((e,t)=>{P[t]["y"]=e}),z.forEach((e,t)=>{P[t]["z"]=e,P[t]["name"]="True positive rate"})}var U=[];Object.keys(p).forEach(e=>{U.push({name:e.toLowerCase(),score:p[e]})}),console.log("cx2",U);var q=e=>{var t=ye.filter(t=>t.value===e);return console.log("cx",t),t.length>0?t[0].name:e},K=e=>{if(i){var t=i.label,a=void 0===t?{}:t;return u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement("span",null,"yes"===e?a.true:a.false))}},B=e=>{if(i){var t=i.label,a=void 0===t?{}:t;return u.a.createElement("span",null,"yes"===e?a.true:a.false)}},W=(e,t)=>{return"success"===e?u.a.createElement("span",{style:{color:"#13c2c2"}},t):u.a.createElement("span",{style:{color:"#f5222d"}},t)},H={precision:"Precision",recall:"Recall",f1:"F1",accuracy:"Accuracy"},Y=e=>{return["accuracy","f1","recall","precision","roc_auc","r2"].map((t,a)=>({y:H[t],x:e[t]?e[t]:0}))},G=Y(p),J=[{title:"",children:[{title:Object(M["formatMessage"])({id:"center.actual"}),dataIndex:"actual",key:"actual",align:"center"}]},{title:Object(M["formatMessage"])({id:"center.evaluate.predict"}),children:[{title:K("yes"),dataIndex:"predicted_yes",align:"center"},{title:K("no"),dataIndex:"predicted_no",align:"center"},{title:"Total",dataIndex:"total",align:"center"}]}],X=[];return i&&(X=[{id:"index",actual:B("yes"),predicted_yes:W("success",i.tp),predicted_no:W("failed",i.fn),total:i.tp+i.fn},{id:"index1",actual:B("no"),predicted_yes:W("failed",i.fp),predicted_no:W("success",i.tn),total:i.fp+i.tn},{id:"index2",actual:"Total",predicted_yes:i.tp+i.fp,predicted_no:i.fn+i.tn,total:i.tp+i.fn+i.fp+i.tn}]),u.a.createElement(u.a.Fragment,null,N?u.a.createElement("div",{style:{textAlign:"center",color:"#c4c4c4"}},Object(M["formatMessage"])({id:"center.training"})):u.a.createElement(b["a"],{key:r},"binary_classification"===x&&u.a.createElement(E["a"],{span:24},u.a.createElement("h3",null,Object(C["e"])("center.mix","center.hintConfusionMatrix")),u.a.createElement(V["a"],{columns:J,dataSource:X,size:"small",bordered:!0,pagination:!1,rowKey:e=>e.actual})),u.a.createElement("h3",{style:{marginTop:20}},Object(M["formatMessage"])({id:"center.modalEvaluate"})),"regression"!==x?u.a.createElement(E["a"],{span:24,style:{marginTop:10}},u.a.createElement(w["e"],{data:G})):null,u.a.createElement(E["a"],{span:24},U.length>0&&u.a.createElement("div",{className:Q.a.box},u.a.createElement(Z["b"],{dataSource:U,renderItem:(e,t)=>u.a.createElement(Z["b"].Item,null,u.a.createElement(Z["b"].Item.Meta,{style:{float:"left"},title:q(e.name)}),u.a.createElement("div",{style:{float:"right"}}," ",e.score&&e.score.toFixed(4)))}))),"binary_classification"===x&&u.a.createElement(E["a"],{span:24},u.a.createElement("h3",{style:{marginTop:20}},Object(M["formatMessage"])({id:"center.roc"})),u.a.createElement("div",{style:{width:1e3}},u.a.createElement(w["c"],{data:P,height:500})))))},Oe=Object(f["o"])(Object(p["c"])(e=>{var t=e.center;return{center:t}})(Ee)),je=(a("miYZ"),a("tsqr")),xe=(a("FJo9"),a("L41K")),_e=(a("DZo9"),a("8z0m")),Se=a("LtfV"),Me=_e["a"].Dragger,we=xe["a"].Step,ke=e=>{Object(P["a"])("Unseen step status "+(null===e||void 0===e?void 0:e.status)+" of "+(null===e||void 0===e?void 0:e.type))},Ne=e=>{e.indexParam;var t,a=e.modelName,r=e.taskStatus,n=e.location.query.datasetName,o=Object(d["useState"])(null),i=s()(o,2),l=i[0],c=i[1],m=Object(d["useState"])("-"),p=s()(m,2),f=p[0],h=p[1],g=Object(d["useState"])("-"),v=s()(g,2),y=v[0],O=v[1],j=Object(d["useState"])("-"),x=s()(j,2),_=x[0],S=x[1],w=Object(d["useState"])("-"),k=s()(w,2),N=k[0],T=k[1],I=Object(d["useState"])("-"),F=s()(I,2),R=F[0],A=F[1],z=Object(d["useState"])(""),U=s()(z,2),q=U[0],V=U[1],K=Object(d["useState"])(-1),B=s()(K,2),W=B[0],H=B[1],Y=()=>{null!==t&&(clearInterval(t),t=null)},G=(e,t,a)=>{Object(L["j"])(e,t,a).then(e=>{if(null!==e&&void 0!==e)if(0===e.code){var t=e.data.steps;if(null!==t&&void 0!==t){var a=Object(C["d"])(t),r=a[D["PredictStepType"].Upload];null!==r&&void 0!==r&&(H(0),r.status===D["StepStatus"].Succeed?h(Object(M["formatMessage"])({id:"center.batchPredict.processTip.upload"},{fileSize:Object(C["b"])(r.extension.file_size),took:r.took.toFixed(2)})):r.status===D["StepStatus"].Failed?Z(h):ke(r));var n=a[D["PredictStepType"].Load];null!==n&&void 0!==n&&(H(1),n.status===D["StepStatus"].Succeed?O(Object(M["formatMessage"])({id:"center.batchPredict.processTip.loadData"},{nRows:n.extension.n_rows,nCols:n.extension.n_cols,took:n.took.toFixed(2)})):n.status===D["StepStatus"].Failed?Z(O):ke(r));var o=a[D["PredictStepType"].LoadModel];null!==o&&void 0!==o&&(H(2),o.status===D["StepStatus"].Succeed?S(Object(M["formatMessage"])({id:"center.batchPredict.processTip.loadModel"},{modelSize:Object(C["b"])(o.extension.model_size),took:o.took.toFixed(2)})):o.status===D["StepStatus"].Failed?Z(S):ke(o));var i=a[D["PredictStepType"].Evaluate];null!==i&&void 0!==i&&(H(3),i.status===D["StepStatus"].Succeed?T(Object(M["formatMessage"])({id:"center.batchPredict.processTip.evaluate"},{took:i.took.toFixed(2)})):i.status===D["StepStatus"].Failed?Z(T):ke(i));var l=a[D["PredictStepType"].WriteResult];null!==l&&void 0!==l&&(Y(),H(4),l.status===D["StepStatus"].Succeed?(A(u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,u.a.createElement("a",{download:!0,href:"/api/resource/".concat(l.extension.output_path,"?opt=download")},Object(M["formatMessage"])({id:"center.batchPredict.processTip.writeResult"}))))),V("finish")):l.status===D["StepStatus"].Failed?Z(A):ke(l))}else Object(P["a"])("Response steps from server of prediction is null yet code is 0 "),Y()}else Y();else Object(P["a"])("Response from server of prediction is null"),Y()})},J=(e,a,r,n)=>{console.error("\u5f00\u542f\u5b9a\u65f6\u5668: 11111"),console.error("2\u5f00\u542f\u5b9a\u65f6\u5668: "+t);var o={file_path:r,upload_took:n};Object(L["a"])(e,a,o).then(r=>{var n=r.data;G(e,a,n.batch_predict_job_name),null!==t&&Y(),t=setInterval(()=>{console.error("1\u5f00\u542f\u5b9a\u65f6\u5668: "+t),G(e,a,n.batch_predict_job_name)},1e3),console.error("\u5f00\u542f\u5b9a\u65f6\u5668: "+t)})},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Failed";e(t),V("error"),Y()},X={name:"file",multiple:!1,accept:".csv, .tsv",headers:{"File-Name":l},action:"/api/resource",beforeUpload:e=>{if(e.size>128e6)return je["b"].warning(Object(M["formatMessage"])({id:"center.big"})),!1;c(e.name)},showUploadList:!1,onChange(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(H(0),J(n,a,e.file.response.data.path,e.file.response.data.took)):"error"===t&&(je["b"].error("".concat(e.file.name," ").concat(Object(M["formatMessage"])({id:"center.failUpload"}))),V("error"))}},Q=u.a.createElement(b["a"],null,u.a.createElement(E["a"],{span:24},u.a.createElement(Me,X,u.a.createElement("p",{className:"ant-upload-drag-icon"},u.a.createElement(Se["a"],null)),u.a.createElement("p",{className:"ant-upload-text"},Object(M["formatMessage"])({id:"center.uploadBox"})),u.a.createElement("p",{className:"ant-upload-hint"},Object(M["formatMessage"])({id:"center.uploadtips"})))),u.a.createElement(E["a"],{span:24,style:{marginTop:24}},u.a.createElement(xe["a"],{current:W,status:q},u.a.createElement(we,{title:Object(M["formatMessage"])({id:"center.uploadData"}),description:f}),u.a.createElement(we,{title:Object(M["formatMessage"])({id:"center.loadData"}),description:y}),u.a.createElement(we,{title:Object(M["formatMessage"])({id:"center.read"}),description:_}),u.a.createElement(we,{title:Object(M["formatMessage"])({id:"center.predictData"}),description:N}),u.a.createElement(we,{title:Object(M["formatMessage"])({id:"center.result"}),description:R})))),$=u.a.createElement("div",{style:{textAlign:"center",color:"#c4c4c4"}},Object(M["formatMessage"])({id:"center.training"}));return"running"===r?$:Q},Te=Object(f["o"])(Object(p["c"])(e=>{var t=e.center;return{center:t}})(Ne)),Le=H["a"].TabPane,Ce=u.a.createElement(Y["a"],{style:{fontSize:16},spin:!0});class Pe extends u.a.Component{constructor(e){super(e),this.batchPredictStepType={upload:"upload",load:"load",load_model:"load_model"},this.metricDisplayMapping={auc:"AUC",accuracy:"Accuracy",rmse:"RMSE"},this.formatTrainMode={[D["TrainMode"].Quick]:Object(M["formatMessage"])({id:"train.quick"}),[D["TrainMode"].Performance]:Object(M["formatMessage"])({id:"train.performance"}),[D["TrainMode"].Minimal]:Object(M["formatMessage"])({id:"train.minimal"})},this.viewLog=(e=>{window.open("/api/resource/".concat(e,"?opt=head&n=1000"))}),this.viewSourceCode=(e=>{window.open("/api/resource/".concat(e,"?opt=head&n=-1"))}),this.viewNotebook=(e=>{window.open("".concat(this.state.notebookPortal,"/notebooks/").concat(e))}),this.localTrainMode=(e=>{return"minimal"===e?Object(M["formatMessage"])({id:"train.minimal"}):"quick"===e?Object(M["formatMessage"])({id:"train.quick"}):"performance"===e?Object(M["formatMessage"])({id:"train.performance"}):void 0}),this.getOptionMenu=(e=>{return u.a.createElement(n["a"],null,u.a.createElement(n["a"].Item,null,u.a.createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>{this.viewLog(e.log_file_path)}},Object(M["formatMessage"])({id:"center.log"}))),u.a.createElement(n["a"].Item,null,u.a.createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>{this.viewSourceCode(e.train_source_code_path)}},Object(M["formatMessage"])({id:"center.source"}))),u.a.createElement(n["a"].Item,null,u.a.createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>{this.viewNotebook(e.train_notebook_uri)}},Object(M["formatMessage"])({id:"center.titleNotebook"}))))}),this.columns=[{title:"",dataIndex:"status",key:"status",render:(e,t)=>{return"running"===t.status?u.a.createElement(W["a"],{indicator:Ce}):"succeed"===t.status?u.a.createElement(G["a"],{style:{fontSize:16,color:"green"}}):"failed"===t.status?u.a.createElement(J["a"],{style:{fontSize:16,color:"red"}}):void 0}},{title:Object(M["formatMessage"])({id:"center.modal"}),dataIndex:"no_experiment",key:"no_experiment"},{title:Object(M["formatMessage"])({id:"train.trainMode"}),dataIndex:"train_mode",key:"train_mode",render:e=>{return this.formatTrainMode[e]}},{title:u.a.createElement(u.a.Fragment,null,Object(M["formatMessage"])({id:"center.target"}),Object(C["f"])("center.hintOptimizeMetric")," "),dataIndex:"score",key:"score",render:(e,t,a)=>{var r=t.score;return r?u.a.createElement(B["a"],{placement:"right",color:"white",title:Object(M["formatMessage"])({id:"center.hintTargetCol"},{targetCol:t.target_col})},u.a.createElement("span",null,r.toFixed(6),"(",this.metricDisplayMapping[t.metric_name],")")):u.a.createElement("span",null,"-")}},{title:Object(C["e"])("center.remain","center.hintRemainingTime"),dataIndex:"estimated_remaining_time",key:"estimated_remaining_time",render:e=>{if(0===e)return u.a.createElement("span",null,Object(M["formatMessage"])({id:"center.finished"}));if(e){var t=e>3600?{color:"red"}:{};return u.a.createElement("span",{style:t},Object(C["c"])(e))}return u.a.createElement("span",null,"-")}},{title:Object(C["e"])("center.spend","center.hintElapsed"),dataIndex:"escaped",key:"escaped",render:e=>{var t=e>3600?{color:"red"}:{};return u.a.createElement("span",{style:t},Object(C["c"])(e))}},{title:Object(C["e"])("center.size","center.hintModelSize"),dataIndex:"model_file_size",key:"model_file_size",render:e=>{return e?u.a.createElement("span",null,Object(C["b"])(e)):u.a.createElement("span",null,"-")}},{title:Object(C["e"])("center.titleResource","center.hintResource"),dataIndex:"train_notebook_uri",align:"center",key:"train_notebook_uri",render:(e,t,a)=>{return u.a.createElement(K["a"],{overlay:this.getOptionMenu(t),placement:"bottomCenter"},u.a.createElement("a",null,"..."))}}],this.loadMoreContent=(()=>u.a.createElement("div",{style:{textAlign:"center",paddingTop:40,paddingBottom:40,border:"1px solid #e8e8e8"}},u.a.createElement(W["a"],{tip:"Loading..."}))),this.state={listData:[],notebookPortal:""},this.datasetName=this.props.location.query.datasetName}handleFetchList(){var e=this.datasetName;Object(L["o"])(e).then(e=>{var t=e.data;this.setState({listData:t.experiments.map(e=>{return e.key=e.no_experiment,e}),notebookPortal:t.notebook_portal});var a=t.experiments.map(e=>e.status);a.includes("running")||(clearInterval(ge),ge=null)})}componentDidMount(){null!==ge&&void 0!==ge&&clearInterval(ge),this.handleFetchList(),ge=setInterval(this.handleFetchList.bind(this),D["REFRESH_EXPERIMENT_LIST_TIMEOUT"])}componentWillUnmount(){null!=this.timer&&clearInterval(this.timer)}render(){return u.a.createElement("div",null,u.a.createElement(V["a"],{dataSource:this.state.listData,columns:this.columns,pagination:!1,expandable:{expandedRowRender:e=>{return"succeed"===e.status||"running"===e.status?u.a.createElement(H["a"],{onChange:e=>console.log(e),type:"card"},u.a.createElement(Le,{tab:Object(M["formatMessage"])({id:"center.evaluate"}),key:"1"},u.a.createElement(Oe,{modelName:e.name,key:e.key})),u.a.createElement(Le,{tab:Object(M["formatMessage"])({id:"center.predict"}),key:"2"},u.a.createElement(Te,{modelName:e.name,taskStatus:e.status}))):"failed"===e.status?u.a.createElement("div",{style:{textAlign:"center",color:"#c4c4c4"}},Object(M["formatMessage"])({id:"center.fail"}),u.a.createElement("a",{onClick:()=>{this.viewLog(e.log_file_path)},target:"_blank"},Object(M["formatMessage"])({id:"center.bug"}))):void 0}}}))}}var De=Object(f["o"])(Object(p["c"])(e=>{var t=e.train;return{train:t}})(Pe)),Ie=a("mAF4"),Fe=a("UdsK"),Re=a("aoZx"),Ae=a("RVw9"),ze=(m["a"].Header,m["a"].Sider,m["a"].Content),Ue=(m["a"].Footer,e=>{var t=e.dispatch,a=e.location.query.datasetName,c=e.train.defaultTab,p=Object(d["useState"])(!1),f=s()(p,2),v=(f[0],f[1],Object(d["useState"])("b")),b=s()(v,2),y=b[0],E=b[1],O=e=>{E(e)},j={a:u.a.createElement(h["default"],{datasetName:a}),b:u.a.createElement(g["default"],{datasetNameFromParam:a,isTemporary:!1}),c:u.a.createElement(q,null),d:u.a.createElement(De,null)},x=l["a"].useForm(),_=s()(x,1);_[0];Object(d["useEffect"])(()=>{var e=localStorage.getItem("tab")||c;t({type:"train/save",payload:{defaultTab:e}})},[c,t]);u.a.Fragment,l["a"].Item,i["a"],o["a"],n["a"].SubMenu;return u.a.createElement(m["a"],null,u.a.createElement("div",{className:"logo"}),u.a.createElement(n["a"],{mode:"horizontal",selectedKeys:[y],onClick:e=>{var t=e.key;return O(t)},style:{backgroundColor:"#EFF4F8"}},u.a.createElement(n["a"].Item,{key:"a",icon:u.a.createElement(Ie["a"],null),label:"nav 1"},Object(M["formatMessage"])({id:"extra.preview"})),u.a.createElement(n["a"].Item,{key:"b",icon:u.a.createElement(Fe["a"],null),label:"nav 2"},Object(M["formatMessage"])({id:"extra.dataExplore"})),u.a.createElement(n["a"].Item,{key:"c",icon:u.a.createElement(Re["a"],null),label:"nav 3"},Object(M["formatMessage"])({id:"extra.train"})),u.a.createElement(n["a"].Item,{key:"d",icon:u.a.createElement(Ae["a"],null),label:"nav 4"},Object(M["formatMessage"])({id:"extra.center"}))),u.a.createElement("div",{className:T.a.breadcrumb,style:{marginTop:"10px",marginLeft:"20px"}},u.a.createElement(r["a"],null,u.a.createElement(r["a"].Item,null,u.a.createElement("a",{href:"/"},Object(M["formatMessage"])({id:"extra.dataset"}))),u.a.createElement(r["a"].Item,null,Object(M["formatMessage"])({id:"extra.explore"})),u.a.createElement(r["a"].Item,null,a))),u.a.createElement(m["a"],{className:"site-layout"},u.a.createElement(ze,{className:"site-layout-background",style:{marginTop:"30px",marginLeft:"50px",minHeight:980}},j[y])))});t["default"]=Object(f["o"])(Object(p["c"])(e=>{var t=e.dataset,a=e.train;return{dataset:t,train:a}})(Ue))}}]);